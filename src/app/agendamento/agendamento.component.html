<!-- Page Content -->
<app-nav></app-nav>
<div id="page-content-wrapper">
  <div class="container-fluid">
    <div class="col-lg-12">
      <div *ngIf="msg != false" class="alert alert-success mt-2" role="alert">
        Seu agendamento foi realizado com sucesso!
      </div>
    </div>
    <form #f="ngForm" [formGroup]="angendamentoForm">
      <div class="row">
        <div class="col-xl-4 col-lg-5 col-md-6 col-sm-6">
          <div class="mt-3">
            <div class="form-group form-group-datepicker">
              <h5 class="mb-0 pl-3">Escolha uma data</h5>
              <bs-datepicker-inline [bsValue]="bsInlineValue" 
              (bsValueChange)="onValueChange($event)" 
              bsDatepicker
              [minDate]="minDate">
              </bs-datepicker-inline>
            </div>
          </div>
        </div>
        <div class="col-xl-8 col-lg-7 col-md-6 col-sm-6">
          <div class="mt-3 block-times">
            <h5>Horários disponíveis</h5>
            <ul class="nav mt-2">
              <li class="nav-item m-1" *ngFor="let h of horarios">
                <label>
                  <input  type="radio" name="horario" class="card-input-radio" value="{{h}}"
                    (change)="changeInput($event)" #radio>
                  <div class="card-horario">
                    {{h}}
                  </div>
                </label>
              </li>
            </ul>
           
            <ul class="list-group list-group-horizontal-xl mt-2 pl-1 mr-3">
              <li class="list-group-item w-50 pt-3 pb-2 d-flex">
                <i class="material-icons mr-2">today</i>
                <h6>Data escolhida:&nbsp; <strong *ngIf="data != bsInlineValue">{{data | date: 'dd/MM/yyyy'}}</strong>
                </h6>
              </li>
              <li class="list-group-item w-50 pt-3 pb-2 d-flex">
                <i class="material-icons mr-2">access_time</i>
                <h6>Horário escolhido:&nbsp; <strong>{{horarioInput}}</strong></h6>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <hr>
      <div class="col-lg-12 form-data-user">
        <h5>Informe seus dados e serviço</h5>
        <div class="form-group mt-3">
          <input type="text" formControlName='nome' class="form-control" id="nome" aria-describedby="nome"
            placeholder="Digite seu nome">
        </div>
        <div class="form-group">
          <input type="text" formControlName='telefone' class="form-control" id="telefone"
            placeholder="Informe seu número de celular" mask="(00) 00000-0000">
        </div>
        <div class="form-group">
          <select class="form-control" id="servicos" formControlName='servico'>
            <option [ngValue]="undefined" selected>Selecione o serviço</option>
            <option *ngFor="let s of servicos$ | async">{{s.nomeservico}} -- {{s.valorservico != 0 ? (s.valorservico | currency:'BRL':true) : 'Sob Consulta'}}</option>
          </select>
        </div>
        <button type="submit" class="btn btn-agendar mt-4 w-100" (click)="onSubmit()" [disabled]="!angendamentoForm.valid">Agendar</button>
      </div>
    </form>
  </div><!-- /container-fluid -->
</div><!-- /#page-content-wrapper -->